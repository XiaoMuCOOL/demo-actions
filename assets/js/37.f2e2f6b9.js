(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{426:function(a,s,t){"use strict";t.r(s);var e=t(1),r=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("p",[s("code",[a._v("shadowsocks")]),a._v("、"),s("code",[a._v("outline")]),a._v(" 的搭建。")]),a._v(" "),s("h2",{attrs:{id:"删除阿里云云盾、安骑士等安全组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除阿里云云盾、安骑士等安全组件"}},[a._v("#")]),a._v(" 删除阿里云云盾、安骑士等安全组件")]),a._v(" "),s("p",[a._v("不删除可能有被封 IP 风险，所以自己百度下如何删除吧，也可参考此操作。")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 卸载阿里云盾")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-sSL")]),a._v(" http://update.aegis.aliyun.com/download/uninstall.sh "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 卸载阿里云安骑士")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-sSL")]),a._v(" http://update.aegis.aliyun.com/download/quartz_uninstall.sh "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 清理阿里云文件")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("pkill")]),a._v(" aliyun-service\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-fr")]),a._v(" /etc/init.d/agentwatch /usr/sbin/aliyun-service /lib/systemd/system/aliyun.service /usr/local/aegis*\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查看是否还存在阿里云服务")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ps")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ef")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" aliyun-service\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 屏蔽云盾IP")]),a._v("\niptables "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-I")]),a._v(" INPUT "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("140.205")]),a._v(".201.0/28 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" DROP\niptables "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-I")]),a._v(" INPUT "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("140.205")]),a._v(".201.16/29 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" DROP\niptables "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-I")]),a._v(" INPUT "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("140.205")]),a._v(".201.32/28 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" DROP\niptables "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-I")]),a._v(" INPUT "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("140.205")]),a._v(".225.192/29 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" DROP\niptables "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-I")]),a._v(" INPUT "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("140.205")]),a._v(".225.200/30 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" DROP\niptables "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-I")]),a._v(" INPUT "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("140.205")]),a._v(".225.184/29 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" DROP\niptables "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-I")]),a._v(" INPUT "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("140.205")]),a._v(".225.183/32 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" DROP\niptables "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-I")]),a._v(" INPUT "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("140.205")]),a._v(".225.206/32 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" DROP\niptables "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-I")]),a._v(" INPUT "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("140.205")]),a._v(".225.205/32 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" DROP\niptables "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-I")]),a._v(" INPUT "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("140.205")]),a._v(".225.195/32 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" DROP\niptables "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-I")]),a._v(" INPUT "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("140.205")]),a._v(".225.204/32 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-j")]),a._v(" DROP\n")])])]),s("h2",{attrs:{id:"安装docker"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装docker"}},[a._v("#")]),a._v(" 安装docker")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("// 更新\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" update\n// Ubuntu 自带docker.io源\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" docker.io "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v("\n")])])]),s("h2",{attrs:{id:"下载shadowsocks镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下载shadowsocks镜像"}},[a._v("#")]),a._v(" 下载shadowsocks镜像")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("// 下载镜像\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" pull mritd/shadowsocks\n// 启动镜像\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-dt")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" ss "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("端口"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(":6443 mritd/shadowsocks "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"-s 0.0.0.0 -p 6443 -m aes-256-cfb -k [密码] –fast-open"')]),a._v("\n")])])]),s("p",[s("strong",[a._v("成功！")])]),a._v(" "),s("p",[a._v("然后下载客户端配置下设置，就能愉快的访问P站学习了。")]),a._v(" "),s("p",[a._v("客户端下载："),s("a",{attrs:{href:"https://github.com/shadowsocks/shadowsocks-windows/releases",target:"_blank",rel:"noopener noreferrer"}},[a._v("windows"),s("OutboundLink")],1),a._v("、"),s("a",{attrs:{href:"https://github.com/shadowsocks/shadowsocks-android/releases",target:"_blank",rel:"noopener noreferrer"}},[a._v("android"),s("OutboundLink")],1),a._v("、"),s("a",{attrs:{href:"https://github.com/shadowsocks/ShadowsocksX-NG/releases",target:"_blank",rel:"noopener noreferrer"}},[a._v("mac"),s("OutboundLink")],1),a._v(" "),s("code",[a._v("IOS")]),a._v(" 暂无官方客服端，如果想要支持 iPhone，那就搭建 Outline 吧，但 Outline 协议听说比较老，容易被封。")]),a._v(" "),s("h2",{attrs:{id:"搭建-outline-服务器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#搭建-outline-服务器"}},[a._v("#")]),a._v(" 搭建 Outline 服务器")]),a._v(" "),s("p",[a._v("安装好 "),s("code",[a._v("Docker")]),a._v(" 后，在服务器输入命令：")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" -qO- https://raw.githubusercontent.com/Jigsaw-Code/outline-server/master/src/server_manager/install_scripts/install_server.sh"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v('"')]),a._v("\n")])])]),s("p",[a._v("然后设置防火墙，允许端口 "),s("code",[a._v("TCP 18339")]),a._v(", "),s("code",[a._v("TCP and UDP 47902")]),a._v(" 通过。")]),a._v(" "),s("p",[a._v("下载 "),s("a",{attrs:{href:"https://github.com/Jigsaw-Code/outline-releases/tree/master/manager",target:"_blank",rel:"noopener noreferrer"}},[a._v("Outline Manager"),s("OutboundLink")],1),a._v("并安装。")]),a._v(" "),s("p",[a._v("打开 "),s("code",[a._v("Outline Manager")]),a._v(" 添加服务器，选择最后一项"),s("code",[a._v("随时随地安装 Outline")]),a._v("，在第二步输入框内填入刚刚服务器生成的 "),s("code",[a._v("apiUrl")]),a._v(" 开头的 "),s("code",[a._v("JSON")]),a._v(" 字符串。我的为：")]),a._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"apiUrl"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"[IP]"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"certSha256"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"[密钥]"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),s("p",[a._v("点击完成即添加成功服务器。")]),a._v(" "),s("p",[a._v("然后点击"),s("code",[a._v("添加新密钥")]),a._v("，输入名称，点击分享，复制生成的 "),s("code",[a._v("ss://")]),a._v(" 开头链接给客户端使用即可链接！")]),a._v(" "),s("p",[a._v("最后，下载 "),s("a",{attrs:{href:"https://getoutline.org/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Outline Client"),s("OutboundLink")],1),a._v(" 应用程序。到目前为止，它支持 macOS，Windows，Linux，ChromeOS，iOS 和 Android。")]),a._v(" "),s("p",[a._v("在应用程序中，点击加号按钮，粘贴密钥，然后连接到服务器。")]),a._v(" "),s("p",[s("strong",[a._v("方便！完美！")])])])}),[],!1,null,null,null);s.default=r.exports}}]);