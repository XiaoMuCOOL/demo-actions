(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{440:function(t,a,s){"use strict";s.r(a);var e=s(2),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("Git相关的一些操作记录。")]),t._v(" "),s("h2",{attrs:{id:"git-commit-提交规范"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-commit-提交规范"}},[t._v("#")]),t._v(" git commit 提交规范")]),t._v(" "),s("p",[t._v("本 Git 提交规范参考了 "),s("code",[t._v("AngularJS")]),t._v(" 在 "),s("code",[t._v("Github")]),t._v(" 上的提交记录，并且中文翻译了一下。")]),t._v(" "),s("p",[s("strong",[t._v("格式：")])]),t._v(" "),s("div",{staticClass:"language-git extra-class"},[s("pre",{pre:!0,attrs:{class:"language-git"}},[s("code",[t._v("类型：commit的简短描述\n")])])]),s("p",[s("strong",[t._v("类型分为：（⭐️代表常用）")])]),t._v(" "),s("ul",[s("li",[t._v("功能：新功能（feature）⭐️")]),t._v(" "),s("li",[t._v("补丁：修复bug（fix）⭐️")]),t._v(" "),s("li",[t._v("优化：性能优化（perf）⭐️")]),t._v(" "),s("li",[t._v("构建：构建过程或辅助、build工具的变动（chore）")]),t._v(" "),s("li",[t._v("重构：某个已有功能重构（refactor）")]),t._v(" "),s("li",[t._v("文档：文档改变（docs）")]),t._v(" "),s("li",[t._v("测试：增加测试（test）")]),t._v(" "),s("li",[t._v("风格：代码格式改变，文件目录改变等（style）")]),t._v(" "),s("li",[t._v("撤销：撤销某次 commit（revert）")])]),t._v(" "),s("p",[s("strong",[t._v("简短描述：")])]),t._v(" "),s("p",[t._v("已动词开头，必须包含功能模块名称，结尾无需标点符号，不超过50个字符。")]),t._v(" "),s("p",[s("strong",[t._v("例子：")])]),t._v(" "),s("div",{staticClass:"language-git extra-class"},[s("pre",{pre:!0,attrs:{class:"language-git"}},[s("code",[t._v("功能：添加用户模块导出功能\n补丁：解决用户模块导出功能BUG\n// 如果有BUG编号（简短表述固定为：BUG #编号）\n补丁：BUG #122\n重构：更新用户模块导出功能\n")])])]),s("h2",{attrs:{id:"稀疏检出"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#稀疏检出"}},[t._v("#")]),t._v(" 稀疏检出")]),t._v(" "),s("p",[t._v("稀疏检出：只检出你配置的文件夹。")]),t._v(" "),s("div",{staticClass:"language-git extra-class"},[s("pre",{pre:!0,attrs:{class:"language-git"}},[s("code",[t._v("git config core.sparseCheckout true\necho "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"document/"')]),t._v(" >> .git/info/sparse-checkout\n")])])]),s("p",[t._v("然后正常"),s("code",[t._v("pull")]),t._v("、"),s("code",[t._v("checkout")]),t._v("、"),s("code",[t._v("merge")]),t._v("都只会对你配置的"),s("code",[t._v("document")]),t._v("文件夹下生效。")]),t._v(" "),s("p",[t._v("关闭稀疏检出：")]),t._v(" "),s("div",{staticClass:"language-git extra-class"},[s("pre",{pre:!0,attrs:{class:"language-git"}},[s("code",[t._v("echo "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/*"')]),t._v(" > .git/info/sparse-checkout\ngit read-tree -mu HEAD\n\ngit config core.sparseCheckout false\nrm -rf .git/info/sparse-checkout\n")])])]),s("h2",{attrs:{id:"删除已add文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除已add文件"}},[t._v("#")]),t._v(" 删除已add文件")]),t._v(" "),s("div",{staticClass:"language-git extra-class"},[s("pre",{pre:!0,attrs:{class:"language-git"}},[s("code",[s("span",{pre:!0,attrs:{class:"token command"}},[t._v("$ git rm"),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v(" --cached")]),t._v(" ")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'file path'")]),t._v(" #删除缓存，不物理删除\n"),s("span",{pre:!0,attrs:{class:"token command"}},[t._v("$ git rm"),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v(" --f")]),t._v(" ")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'file path'")]),t._v("  #删除缓存并物理删除\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -r 向下递归删除")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -f 强制删除")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token command"}},[t._v("$ git rm"),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v(" -rf")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v(" --cached")]),t._v(" ")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'folder'")]),t._v(" #删除‘folder’下所有东西\n")])])]),s("h2",{attrs:{id:"删除未跟踪文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除未跟踪文件"}},[t._v("#")]),t._v(" 删除未跟踪文件")]),t._v(" "),s("div",{staticClass:"language-git extra-class"},[s("pre",{pre:!0,attrs:{class:"language-git"}},[s("code",[s("span",{pre:!0,attrs:{class:"token command"}},[t._v("$ git clean"),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v(" -nxfd")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -r 删除untracked files")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -fd 连untracked的目录一起删除")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -xfd 连.gitignore的untrack 文件/目录也一起删掉")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -n 提示会删掉哪些文件")]),t._v("\n")])])]),s("h2",{attrs:{id:"还原到远程版本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#还原到远程版本"}},[t._v("#")]),t._v(" 还原到远程版本")]),t._v(" "),s("div",{staticClass:"language-git extra-class"},[s("pre",{pre:!0,attrs:{class:"language-git"}},[s("code",[s("span",{pre:!0,attrs:{class:"token command"}},[t._v("$ git fetch origin ")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'branch-name'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token command"}},[t._v("$ git reset"),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v(" --hard")]),t._v(" ")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'origin/branch-name'")]),t._v("\n")])])]),s("h2",{attrs:{id:"忽略跟踪"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#忽略跟踪"}},[t._v("#")]),t._v(" 忽略跟踪")]),t._v(" "),s("div",{staticClass:"language-git extra-class"},[s("pre",{pre:!0,attrs:{class:"language-git"}},[s("code",[s("span",{pre:!0,attrs:{class:"token command"}},[t._v("$ git update-index"),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v(" --assume")]),t._v("-unchanged /path/to/file")]),t._v("\n")])])]),s("h2",{attrs:{id:"恢复跟踪"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#恢复跟踪"}},[t._v("#")]),t._v(" 恢复跟踪")]),t._v(" "),s("div",{staticClass:"language-git extra-class"},[s("pre",{pre:!0,attrs:{class:"language-git"}},[s("code",[s("span",{pre:!0,attrs:{class:"token command"}},[t._v("$ git update-index"),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v(" --no")]),t._v("-assume-unchanged /path/to/file")]),t._v("\n")])])]),s("h2",{attrs:{id:"删除远程commit"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除远程commit"}},[t._v("#")]),t._v(" 删除远程commit")]),t._v(" "),s("div",{staticClass:"language-git extra-class"},[s("pre",{pre:!0,attrs:{class:"language-git"}},[s("code",[s("span",{pre:!0,attrs:{class:"token command"}},[t._v("$ git reset"),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v(" --hard")]),t._v(" [commitID]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token command"}},[t._v("$ git push origin HEAD:master"),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v(" --force")])]),t._v("\n")])])]),s("h2",{attrs:{id:"日志查看"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#日志查看"}},[t._v("#")]),t._v(" 日志查看")]),t._v(" "),s("div",{staticClass:"language-git extra-class"},[s("pre",{pre:!0,attrs:{class:"language-git"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 简略日志信息")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token command"}},[t._v("$ git log"),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v(" --stat")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 每次提交的内容差异(-2是最近两次)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token command"}},[t._v("$ git log"),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v(" -p")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v(" -2")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 创建别名 `Git\\etc\\gitconfig`")]),t._v("\n[alias]\n lg = log --color --graph --pretty=format:"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset'")]),t._v(" --abbrev-commit\n")])])]),s("h2",{attrs:{id:"标签"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#标签"}},[t._v("#")]),t._v(" 标签")]),t._v(" "),s("div",{staticClass:"language-git extra-class"},[s("pre",{pre:!0,attrs:{class:"language-git"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 创建带有说明的标签")]),t._v("\n$  git tag -a v0.1 -m "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"version 0.1 初始化"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 为某一个commit打标签")]),t._v("\n$   git tag v0.2 [commitID]\n")])])]),s("h2",{attrs:{id:"github加速"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#github加速"}},[t._v("#")]),t._v(" github加速")]),t._v(" "),s("p",[t._v("修改"),s("code",[t._v("C:/Windows/system32/drivers/etc/hosts")]),t._v("文件：")]),t._v(" "),s("div",{staticClass:"language-cmd extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("151.101.44.249 github.global.ssl.fastly.net\n192.30.253.113 github.com\n103.245.222.133 assets-cdn.github.com\n23.235.47.133 assets-cdn.github.com\n203.208.39.104 assets-cdn.github.com\n204.232.175.78 documentcloud.github.com\n204.232.175.94 gist.github.com\n107.21.116.220 help.github.com\n207.97.227.252 nodeload.github.com\n199.27.76.130 raw.github.com\n107.22.3.110 status.github.com\n204.232.175.78 training.github.com\n207.97.227.243 www.github.com\n185.31.16.184 github.global.ssl.fastly.net\n185.31.18.133 avatars0.githubusercontent.com\n185.31.19.133 avatars1.githubusercontent.com\n")])])]),s("p",[t._v("然后在"),s("code",[t._v("CMD")]),t._v("运行："),s("code",[t._v("ipconfig /flushdns")]),t._v("刷新。")])])}),[],!1,null,null,null);a.default=r.exports}}]);